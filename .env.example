# Electoral Roll PDF Processing - Environment Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# Debug Mode
# =============================================================================
DEBUG=0

# =============================================================================
# PDF Extraction
# =============================================================================
RENDER_DPI=200

# =============================================================================
# AI Configuration (for metadata extraction and AI OCR)
# =============================================================================
AI_PROVIDER=gemini
AI_API_KEY=your_api_key_here
AI_MODEL=gemini-2.5-flash
# AI_BASE_URL=  # Optional: custom API endpoint
AI_TIMEOUT_SEC=120

# AI OCR batch size (number of images per batch for AI processing)
AI_OCR_BATCH_SIZE=5

# AI ID batch size (Number of "id-merged" images to send in a single AI request)
AI_ID_BATCH_SIZE=5

# Retry configuration for AI API calls
# AI_MAX_RETRIES=3            # Maximum retry attempts for failed API calls
# AI_RETRY_DELAY_SEC=2.0      # Initial delay between retries (uses exponential backoff)

# Cost tracking (optional)
# AI_INPUT_COST_PER_1M_USD=0.15
# AI_OUTPUT_COST_PER_1M_USD=0.60

# =============================================================================
# OCR Configuration (Tesseract)
# =============================================================================
OCR_LANGUAGES=eng+tam
# TESSERACT_PATH=C:\Program Files\Tesseract-OCR\tesseract.exe

# =============================================================================
# Image Merging Configuration
# =============================================================================
# Batch size for voter crop image merging (default: 10)
MERGE_BATCH_SIZE=10

# Batch size for crop-top (header) image merging (default: 10)
TOP_MERGE_BATCH_SIZE=30

# Batch size for ID crop merging (default: 10)
ID_CROP_BATCH_SIZE=10

# =============================================================================
# Cropping Configuration
# =============================================================================
# Diagram filter mode: auto, on, off
CROP_DIAGRAM_FILTER=auto

# =============================================================================
# S3 Configuration (for S3 URLs)
# =============================================================================
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=ap-south-1
# S3_DEFAULT_BUCKET=
# S3_DOWNLOAD_DIR=

# =============================================================================
# Processing Limits
# =============================================================================
# DEFAULT_LIMIT=0
# DEFAULT_PAGE_LIMIT=0

# =============================================================================
# Database Configuration (for PostgreSQL)
# =============================================================================
DB_HOST=your-rds-endpoint.aws.com
DB_PORT=5432
DB_NAME=your_db_name
DB_USER=your_username
DB_PASSWORD=your_password
DB_SCHEMA=public